{"version":3,"sources":["../src/textlint-rule-ja-no-abusage.ts"],"names":["prh","require","reporter","context","Syntax","RuleError","report","fixer","getSource","matcherList","tokenize","dictionaries","dictionaryList","prhLinter","linter","prhStr","ruleContents","Str","node","text","then","results","forEach","result","expected","message","index","fix","replaceTextRange","range","module","exports"],"mappings":"AAAA;AACA;;AACA;;AAEA;;AAGA;;AAEA;;;;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAAC,mBAAD,CAAnB;;AACA,IAAMC,QAA8B,GAAIC,OAAD,IAAa;AAChD,MAAM;AAACC,IAAAA,MAAD;AAASC,IAAAA,SAAT;AAAoBC,IAAAA,MAApB;AAA4BC,IAAAA,KAA5B;AAAmCC,IAAAA;AAAnC,MAAgDL,OAAtD;AACA,MAAMM,WAAW,GAAG,kDAAsB;AACtCC,IAAAA,QAAQ,EAAEA,mBAD4B;AAEtCC,IAAAA,YAAY,EAAEC;AAFwB,GAAtB,CAApB;AAIA,MAAMC,SAAS,GAAGb,GAAG,CAACc,MAAtB;AACA,MAAMC,MAAM,GAAGF,SAAS,CAACV,OAAD,EAAU;AAC9Ba,IAAAA,YAAY,EAAE;AADgB,GAAV,CAAxB;AAKA,SAAO;AACH,KAACZ,MAAM,CAACa,GAAR,EAAaC,IAAb,EAAmB;AACf,UAAMC,IAAI,GAAGX,SAAS,CAACU,IAAD,CAAtB;AACAH,MAAAA,MAAM,CAACX,MAAM,CAACa,GAAR,CAAN,CAAmBC,IAAnB;AACA,aAAOT,WAAW,CAACU,IAAD,CAAX,CAAkBC,IAAlB,CAAuBC,OAAO,IAAI;AACrCA,QAAAA,OAAO,CAACC,OAAR,CAAgBC,MAAM,IAAI;AACtB,cAAIA,MAAM,CAACC,QAAX,EAAqB;AACjBlB,YAAAA,MAAM,CAACY,IAAD,EAAO,IAAIb,SAAJ,CAAckB,MAAM,CAACE,OAArB,EAA8B;AACvCC,cAAAA,KAAK,EAAEH,MAAM,CAACG,KADyB;AAEvCC,cAAAA,GAAG,EAAEpB,KAAK,CAACqB,gBAAN,CAAuBL,MAAM,CAACM,KAA9B,EAAqCN,MAAM,CAACC,QAA5C;AAFkC,aAA9B,CAAP,CAAN;AAIH,WALD,MAKO;AACHlB,YAAAA,MAAM,CAACY,IAAD,EAAO,IAAIb,SAAJ,CAAckB,MAAM,CAACE,OAArB,EAA8B;AACvCC,cAAAA,KAAK,EAAEH,MAAM,CAACG;AADyB,aAA9B,CAAP,CAAN;AAGH;AAEJ,SAZD;AAaH,OAdM,CAAP;AAeH;;AAnBE,GAAP;AAqBH,CAjCD;;AAkCAI,MAAM,CAACC,OAAP,GAAiB;AACbjB,EAAAA,MAAM,EAAEZ,QADK;AAEbK,EAAAA,KAAK,EAAEL;AAFM,CAAjB","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport {createTextlintMatcher} from \"morpheme-match-textlint\"\n\nimport path from \"path\";\nimport fs from \"fs\";\n\nimport {tokenize} from \"kuromojin\";\nimport {TextlintRuleReporter} from \"@textlint/types\";\nimport dictionaryList from \"./dictionary\";\n\nconst prh = require(\"textlint-rule-prh\");\nconst reporter: TextlintRuleReporter = (context) => {\n    const {Syntax, RuleError, report, fixer, getSource} = context;\n    const matcherList = createTextlintMatcher({\n        tokenize: tokenize,\n        dictionaries: dictionaryList\n    });\n    const prhLinter = prh.linter;\n    const prhStr = prhLinter(context, {\n        ruleContents: [\n            fs.readFileSync(path.join(__dirname, \"..\", \"dict\", \"prh.yml\"),\"utf-8\")\n        ]\n    });\n    return {\n        [Syntax.Str](node) {\n            const text = getSource(node);\n            prhStr[Syntax.Str](node);\n            return matcherList(text).then(results => {\n                results.forEach(result => {\n                    if (result.expected) {\n                        report(node, new RuleError(result.message, {\n                            index: result.index,\n                            fix: fixer.replaceTextRange(result.range, result.expected)\n                        }));\n                    } else {\n                        report(node, new RuleError(result.message, {\n                            index: result.index\n                        }));\n                    }\n\n                });\n            });\n        }\n    }\n};\nmodule.exports = {\n    linter: reporter,\n    fixer: reporter\n};\n"],"file":"textlint-rule-ja-no-abusage.js"}